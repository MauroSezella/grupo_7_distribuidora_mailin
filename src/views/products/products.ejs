<!DOCTYPE html>
<html lang="es">

<head>
    <%- include('../partials/head.ejs') %>
        <link rel="stylesheet" href="/css/styles-products.css" />
        <link rel="stylesheet" href="/css/styles-header.css">

        <title>Golosinas Mailin</title>

</head>

<body>

    <%- include('../partials/header') %>

        <section class="main-titulo">
            <h2>Todos los productos</h2>
        </section>
        <main class="main__container">
            <section class="main_categorias">
                
                <details open >
                    <summary class="category-summary">Filtrar<i class="fa-solid fa-caret-down"></i><i
                            class="fa-solid fa-minus"></i></summary>
                            <form action="/productos/filter" method="get" class="form-filter" id="form-filter">
                                <div class="label-categoria">
                                    <p class="label-filter">Categorías:</p>
                                    <% categorias.forEach(element=> { %>
                                    <li >
                                        <input type="checkbox" name="categorias" value="<%= element.id %>" id="<%=element.nombre %>">
                                        <label for="<%=element.nombre %>" class="filter-label"><%= element.nombre %></label>
                                    </li> 
                                    <% }); %>
                                </div>
                                <div class="label-ofertas">
                                    <p for="" class="label-filter label-filter-m">Ordenar Por:</p>
                                    <li>
                                        <input type="radio" name="orden" value="id-DESC" id="id-DESC">
                                        <label for="id-DESC" class="filter-label ">
                                            Más recientes
                                        </label>
                                    </li>
                                    <li>
                                        <input type="radio" name="orden" value="descuento-DESC" id="descuento-DESC">
                                        <label for="descuento-DESC" class="filter-label ">
                                            Descuento
                                        </label>
                                    </li>
                                    <li>
                                        <input type="radio" name="orden" value="precio-ASC" id="precio-ASC">
                                        <label for="precio-ASC" class="filter-label ">
                                            Precios más bajo
                                        </label>
                                    </li>
                                    <li>
                                        <input type="radio" name="orden" value="precio-DESC" id="precio-DESC">
                                        <label for="precio-DESC" class="filter-label ">
                                            Precios más alto
                                        </label>
                                    </li>
                                </div>
        
        
                                <div class="btn-conteiner">
                                    <button  class="limpiar-btn" id="btn-reset" type="reset">Limpiar</button> 
                                    <button type="submit" class="aplicar-btn">Aplicar</button>
                                </div>
                            </form>
                </details>
                
                <% if (isAdmin) { %>
                    <div class="enlace-product">
                        <a href="/productos/create" class="boton-agregar"> <i class="fa-solid fa-plus"></i> Agregar Producto</a>
                    </div>
                <% } %>
            </section>


            <section class="main__producto ">
                <%- include('../partials/product.ejs') %>

                <div class="main__producto-paginado">
                    <% if (previous>0) { %>
                        <a href="/productos?page=<%= previous %>"><i class="fa-solid fa-angle-left"></i></a>
                      <% } %>
                    
                      <p><%= page %></p>
                    
                      <% if (next) { %>
                        <a href="/productos?page=<%= next %>"><i class="fa-solid fa-angle-right"></i></a>
                      <% } %>
                </div>

            </section>


        </main>

        <%- include('../partials/footer') %>

</body>

</html>