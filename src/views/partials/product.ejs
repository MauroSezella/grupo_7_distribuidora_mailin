<% products.forEach(product=> { %>
    <article class="producto--card">
        <a href="/productos/<%=product.id%>" class="producto--card-img">
            <img src="/images/products/<%=product.imagen%>" alt="<%=product.nombre%>">
        </a>
        <%if(product.descuento> 0) { %>
            <div class="contenedor-descuento">
                <p class="descuento">
                    <%=product.descuento%>% OFF
                </p>
            </div>
            <% } %>
                <div class="card-descripcion">
                    <p class="producto--card-categ">
                        <%=product.categoria.nombre.toUpperCase()%>
                    </p>
                    <a href="" class="producto--card-titulo">
                        <%=product.nombre%>
                    </a>
                    <div class="producto--card-precio">
                        <%if(product.descuento> 0) { %>
                            <p class="precio">$ <%=product.precio%>
                            </p>
                            <p class="precio-final">$ <% let precioFinal=product.precio -
                                    (product.precio * (product.descuento/100)) %>
                                    <%= precioFinal.toFixed(2) %>
                            </p>
                            <% }else{ %>
                                <p class="precio-final">$ <%=product.precio%>
                                </p>
                                <% } %>
                    </div>
                    <% if (product.stock>0) { %>
                        <button class="agregar-carrito" data-id="<%= product.id %>">AÃ±adir al carrito</button>
                        
                    <%} else{ %>
                        <button class="agregar-carrito sin-stock">sin stock</button>
                        <% } %>
                </div>
    </article>
    <% }); %>
